# Mode hx_espnow_rc

Profile is based on hx_espnow_rc RC system.

Example **profileX.json**:
```json
{
    "transmitter_mode" : "ESPNOW",
    "espnow_channel" : 3,
    "espnow_key" : 0,
    "espnow_long_range_mode" : false,
    "ap_name" : "hxrct",
    "ap_password" : ""
}
```

Profile to be used with receivers:
- Servo/PWM output receiver: https://github.com/RomanLut/hx_espnow_rc/blob/main/doc/rx_d1_mini_pwm.md
- ESP-01 based SBUS receiver: https://github.com/RomanLut/hx_espnow_rc/blob/main/doc/rx_esp01_sbus.md
- D1 Mini based SBUS receiver: https://github.com/RomanLut/hx_espnow_rc/blob/main/doc/rx_d1_mini_sbus.md
- ESP32 based SBUS receiver: https://github.com/RomanLut/hx_espnow_rc/blob/main/doc/rx_esp32_sbus.md
- and all other rx_*** 

# Parameters

**espnow_channel** - Wifi channel to use

**espnow_key** - security key. Should be equal on transmitter and receiver. Please make sure you do not use default **zero** key!

**espnow_long_range_mode** - enable or disable ESP-NOW Long Range mode

**ap_name** - Wifi access point name. Specify `""` to disable AP.

**ap_password** - AP password. Specify `""` to disable password.

*Note: Wifi AP is not used currently, until Web configuration is implemented.*

# Telemetry

Telemetry stream is transparent, is output to bluetooth, bidirectional, ~57kBit. Suitable for Mavlink, LTE, CRSF, MCP.

**External transmitter module** also outputs SPORT telemetry on SPORT pin. In future it will be possible to translate Mavlink/CRSF to SPORT. It is not implemented currently.

Additionally, the following Smartport telemetry is generated by **external transmitter module** in **hx_espnow_rc** profile:

**RSSI** - 0..100. Computed link quality. Shows how many packets are acknowledged by Slave on Master. 

**TRSS** - received signal strength in Dbm. Shows how well Master hears Slave ( telemetry from slave ).

**5250** - **NOIS** - Noise floor in Dbm, sensed by Master.

**5251** - **SNR** - Signal to noise ratio in Db, sensed by Master.

**5252** - **RXSI** 0..100. Computed link quality. Shows how many packets are acknowledged by Master on Slave.

**5253** - **RXSS**[^note1] - Received signal strength in Dbm on Slave. Shows how well Slave hears Master ( control packets and upcoming telemetry from Master ).

**5254** - **RXNF**[^note1] - Noise floor in Dbm, sensed by Slave.

**5255** - **RXSN**[^note1] -  Signal to noise ratio in Db, sensed by Slave.

**R9PW** - TX power in mW

**5256** - Current profile id

**5260** - **CycT** Debug: Cycle time in ms

**5261** - **Rate** Debug: Wifi rate

**5262** - **PktR** Debug: Successfull packet rate from Master to Slave, packets/second.

**A1** - Value passed from Slave, if any.

**A2** - Value passed from Slave, if any.

[^note1]: **RXSS**, **RXNF** and **RXSN** are available only if receiver is based on ESP32. These values are 0, if receiver is based on ESP8266. 


# hx_espnow_rc in LR mode

Profile to be used with:
- ESP32 based SBUS receiver: https://github.com/RomanLut/hx_espnow_rc/blob/main/doc/esp32_sbus.md
- and other esp32-based rx_***

Note that receiver should be flashed with LR mode enabled `#define USE_LR_MODE true`

To enable LR mode, add parameter to prfile json:
``
    "espnow_long_range_mode" : true,
``
